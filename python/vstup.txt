CREATE OR REPLACE PROCEDURE test_proc_complex IS
    v_count NUMBER;
    CURSOR c_test IS
        SELECT id, popis FROM zakladni;
BEGIN
    -- Vložení záznamu
    INSERT INTO zakladni (id, popis) VALUES (1, 'První záznam');

    -- Aktualizace
    UPDATE zakladni SET popis = 'Aktualizovaný záznam' WHERE id = 1;

    -- Vyhodnocení větve IF
    SELECT COUNT(*) INTO v_count FROM zakladni;
    IF v_count > 0 THEN
        NULL;
    ELSE
        NULL;
    END IF;

    -- Procházení kurzoru
    FOR rec IN c_test LOOP
        NULL;
    END LOOP;

    -- Odstranění záznamu
    DELETE FROM zakladni WHERE id = 1;

EXCEPTION
    WHEN OTHERS THEN
        NULL;
END test_proc_complex;
/